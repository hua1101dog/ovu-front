<div class="modal-header">
    <button type="button" class="close" ng-click="cancel()">×</button>
    <h4 class="modal-title">{{item.id?'编辑':'添加'}}组织</h4>
</div>
<div class="modal-body container-fluid form-horizontal">
    <form name="form" novalidate>
        <div class="form-group">
            <label class="col-xs-2 control-label required">组织名称：</label>

            <div class="col-xs-4">
                <input type="text" class="form-control" ng-model="item.domainName" name="domainName" required/>
            </div>
            <label class="col-xs-2 control-label required">组织编码：</label>

            <div class="col-xs-4">
                <input type="text" class="form-control" ng-model="item.domainCode" placeholder="组织编码,限4位"
                       name="domainCode" maxlength="4" required/>
            </div>
        </div>
        <div  class="form-group">
            <label class="col-xs-2 control-label required">组织类型：</label>
            <div class="col-xs-4">
                <select class="form-control" ng-model="item.orgType" required ng-options="o.code as o.text for o in orgTypeEnum">
                    <option value="">--请选择--</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-2 control-label required">到期日期：</label>
            <div class="col-xs-4">
                <input type="datetime" class="form-control Wdate" ng-model="item.overTime" onchange="" required
                       name="overTime"
                       onclick="javascript:WdatePicker({dateFmt:'yyyy-MM-dd',minDate:'%y-%M-%d'})">
            </div>
            <label class="col-xs-2 control-label">禁用该组织：</label>

            <div class="col-xs-4 mt7">
                <input type="checkbox" ng-model="item.disable" ng-true-value=1 ng-false-value=0>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-2 control-label">上传logo：</label>

            <div class="col-xs-4">
                <div class="thumbnail text-center">
                    <img alt="" onerror="javascript:this.src='/res/img/detail.png';"
                         ng-click="showPhoto()"
                         ng-src="{{processImgUrl(item.logoUrl)}}"/>
                    <div class="caption">
                        <p>
                            <button class="btn btn-warning height34" ng-click="clearPhoto(item,'logoUrl')"><i
                                    class="glyphicon glyphicon-remove"></i></button>
                            <button class="btn btn-default height34" ng-click="addPhoto(item,'logoUrl')"><i
                                    class="glyphicon glyphicon-picture "></i></button>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-2 control-label required " style="white-space: nowrap">授权子系统：</label>

            <div class="col-xs-10">
				 <span ng-repeat="module in modules" class="mr15"
                       ng-class="{'text-success':module.checked,'text-muted':!module.checked}" role="button"
                       ng-click="module.checked = !module.checked">
                         <i class="glyphicon"
                            ng-class="{'glyphicon-check':module.checked,'glyphicon-unchecked':!module.checked}"></i>{{module.name}}</span>
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-2 control-label">备注：</label>

            <div class="col-xs-10">
                <textarea type="text" style="height:150px;resize:vertical" class="form-control" ng-model="item.remark"/>
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="save(form)">确定</button>
    <button class="btn btn-warning" ng-click="cancel()">取消</button>
</div>

