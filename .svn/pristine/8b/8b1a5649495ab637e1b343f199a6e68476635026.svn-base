<div class="modal-header">
    <button type="button" class="close" ng-click="$dismiss()">×</button>
    <h4>{{item.id?'编辑':'新增'}}Banner</h4>
</div>
<div class="modal-body container-fluid form-horizontal">
    <form name="form" style="padding: 0 20px" novalidate>
        <div class="form-group">
            <label class="col-xs-3 control-label required">Banner名称</label>
            <div class="col-xs-8">
                
                <input type="text" class="form-control" ng-model="item.bannerName"  maxlength="50" required/>

            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label required">TAG</label>
            <div class="col-xs-8">
               
                <select class="form-control required"  ng-model="item.tag" ng-options=" o[0] as o[1] for o in [[0,'原生页面'],[1,'外链']]">
                    <option value="">--请选择--</option>
                </select>

            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label " ng-class="{'required':search.tag==1}">URL地址</label>
            <div class="col-xs-8">
                
                <input type="text" class="form-control" ng-model="item.url"  ng-required="search.tag=='1'" />
                <span style="font-size: 12px;color: #bbb;">跳转外部URL需填写</span>
            </div>
        </div>
        
        
    
        <div class="form-group" style="margin-bottom: 20px !important;">
            <label class="col-xs-3 control-label required">图片</label>
            <div class="col-xs-8">
                <div class="photoWraper" ng-show ="item.picture">
                    <img onerror="javascript:this.src='/res/img/detail.png';" ng-click="showPhoto()"
                        ng-src="{{processImgUrl(item.picture)}}" />
                    <a 
                        role="button" 
                        ng-click="delPhotoQNY('bannerPic',item,'picture')">
                        <i class="glyphicon glyphicon-remove"></i>
                    </a>
                        <input 
                        type="file"
                        name="bannerPic" 
                        id="bannerPic" 
                        style="opacity:0;height:0;"
                        accept="image/gif,image/jpeg,image/png,image/jpg,image/bmp"
                        />
                </div>
                <img ng-show="!item.picture" height="80px" width="80px" src="/res/img/mbs/add.jpg"
                    role="button" ng-click="uploadToQNY('bannerPic',item,'picture')" title="上传图片">
              
            </div>
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label required" >使用范围</label>
            <div class="col-xs-8">
                <label  role="button" style="line-height:32px;margin-right: 15px"><input type="radio" ng-disabled="item.id" required style="margin:0 5px" ng-model="item.bannerRange"  ng-value="0"   >当前项目</label>
                <label  role="button" style="line-height:32px;"><input type="radio" style="margin:0 5px" ng-disabled="item.id"  required ng-model="item.bannerRange" ng-value="1"  >所有项目</label>
                
            </div>
            
        </div>
        <div class="form-group">
            <label class="col-xs-3 control-label " >有效日期</label>
            <div class="col-xs-8">
                <input type="datetime" class="form-control Wdate inline_block "  style="width: 200px;" id="bannerStime" ng-model="item.startTime"  placeholder="开始日期" onchange=""
                   onclick="javascript:$.curPicker = $(event.target);WdatePicker({dateFmt:'yyyy-MM-dd',minDate:'%y-%M-%d' ,maxDate: '#F{$dp.$D(\'bannerEtime\')}'})">
                 
              <label>-</label>
            <input type="datetime" class="form-control Wdate inline_block"  id="bannerEtime" style="width: 200px;"  ng-model="item.endTime"  placeholder="结束日期" onchange=""
            onclick="javascript:$.curPicker = $(event.target);WdatePicker({dateFmt:'yyyy-MM-dd',minDate:'#F{$dp.$D(\'bannerStime\')}'})">
            </div>
                
        </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" style="margin: 0 10px" ng-click="save(form)" >确定</button>
    <button class="btn btn-warning" style="margin: 0 10px" ng-click="cancel()">取消</button>
</div>