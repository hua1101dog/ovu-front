<div ng-controller="menuCtrl">
    <div class="page-title">
        <div class="title_left">
            <h3>子系统与菜单管理</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="panel panel-default ">
                <div class="panel-heading">子系统列表
                    <button class="btn btn-primary pull-right" ng-click="showModuleModal()">添加子系统</button>
                </div>
                <div class="panel-body">
                    <table class="table table-striped table-hover">
                        <thead class="title">
                            <tr>
                                <th class="text-center">NO</th>
                                <th>子系统名称</th>
                                <th>logo</th>
                                <th style="width:50px">操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-if="moduleList.length == 0">
                                <td colspan="100" class="text-center">暂无记录</td>
                            </tr>
                            <tr ng-repeat="item in moduleList" ng-class="{'info':curModule.id == item.id}">
                                <td class="text-center">{{$index + 1}}</td>
                                <td>
                                    <a href='javascript:void(0)' class="btn-link" ng-click='showModuleMenu(item)'>{{item.name}}</a>
                                </td>
                                <td style="padding: 0"><img ng-click="showPhoto()" style="max-height:36px" onerror="javascript:this.src='/res/img/detail.png';" ng-src="{{processImgUrl(item.logoUrl)}}" /></td>
                                <td>
                                    <a href='javascript:void(0)' ng-click='showModuleModal(item)' class='btn btn-xs'><span class='fa fa-edit'></span>编辑</a>
                                    <a href='javascript:void(0)' ng-click='delModule(item)' class='btn btn-xs'><span class='fa fa-trash'></span>删除</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>







        

        <div class="col-sm-5 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <a ng-click='expandAll(menuTree)' role="button" class='btn-link' title="展开与收缩"><i class="glyphicon" ng-class="{'glyphicon-resize-small':menuTree.expanded,'glyphicon-resize-full':!menuTree.expanded}" ></i></a> 子系统菜单 <span ng-click='addTopNode()'
                        class='btn btn-xs pull-right'><span class='fa fa-plus' ></span>一级菜单</span>
                </div>
                <div class="x_content" style="z-index: 2">
                    <div class="alert" role="alert" ng-show="menuTree.length==0">无子系统菜单</div>
                    <tree-menu-edit node-list="menuTree" config="{'edit':true}"></tree-menu-edit>
                </div>
                <layer-select id="resourceSelector" node-list="resourceTree" select-method="selectResource" ng-hide="!curCopy" class="layerSelect hide" style="left: 15px;top:inherit;"></layer-select>
            </div>
        </div>




        <div class="col-sm-3 col-xs-12">
            <div class="x_panel">
                <div class="x_title">
                    <a ng-click='expandAll(resourceTree)' role="button" class='btn-link' title="展开与收缩"><i class="glyphicon" ng-class="{'glyphicon-resize-small':resourceTree.expanded,'glyphicon-resize-full':!resourceTree.expanded}" ></i></a> 资源树(供参考)
                </div>
                <div class="x_content" style="z-index: 1">
                    <div class="alert" role="alert" ng-show="resourceTree.length==0">无资源树</div>
                    <tree-view node-list="resourceTree" config="config"></tree-view>
                </div>
            </div>
        </div>
    </div>
</div>
